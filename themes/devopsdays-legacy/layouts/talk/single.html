{{ partial "event_header.html" . }}

{{ $path := split $.Source.File.Path "/" }}
{{ $event_slug := index $path 1 }}
{{ $e :=  (index $.Site.Data.events $event_slug) }}
<!-- end event header partial -->

      {{ .Content }}


 <!-- speaker code begin -->
 {{/*
   For future reference, this range listed below is going to be a key element for when we refactor the data directory
   Notice how you pass the variables, etc. So the new code would probably be something like this:
   .Site.Data.events $e.year "speakers" (printf "%s" (lower $e.city))
   and to get at the meta.yml for the city it will be
   .Site.Data.events $e.year (printf "%s" (lower $e.city))
   - mattstratton
 */}}
 {{ range $fname, $s := index .Site.Data.speakers $e.year (printf "%s" (lower $e.city)) }}
   {{ if eq $fname ($.Title | urlize) }}
     <h2>Speaker</h2>
     <h3>{{ $s.name }}</h3>
     <a href="https://twitter.com/{{ $s.twitter }}"><img width="32px" height="32px" alt="twitter" title="twitter" src="/images/twitter.png">@{{ $s.twitter }}</a>
     <br><br>
     {{ $s.bio | markdownify }}
   {{ end }}
 {{ end }}


<!-- speaker code end -->



<!-- put the event partial here and delete everything after it -->
{{ partial "event_footer.html" . }}
