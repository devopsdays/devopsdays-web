{{ $url := .Get "url" }}
{{ $city := .Get "city" }}
{{ $year := .Get "year" }}
{{ $info := .Get "info" }}

{{- if eq $url "" -}}

<link rel="stylesheet" type="text/css" href="https://tickets.devopsdays.org/devopsdays-{{ $city }}/{{ $year }}/widget/v1.css">
<script type="text/javascript" src="https://tickets.devopsdays.org/widget/v1.en.js" async></script>

<pretix-widget event="https://tickets.devopsdays.org/devopsdays-{{ $city }}/{{ $year }}/" {{- if eq $info "show" -}} display-event-info{{- end -}}></pretix-widget>
<noscript>
   <div class="pretix-widget">
        <div class="pretix-widget-info-message">
            JavaScript is disabled in your browser. To access our ticket shop without JavaScript, please <a target="_blank" rel="noopener" href="https://tickets.devopsdays.org/devopsdays-{{ $city }}/{{ $year }}/">click here</a>.
        </div>
    </div>
</noscript>

{{- else -}}

<link rel="stylesheet" type="text/css" href="{{ $url }}/widget/v1.css">
<script type="text/javascript" src="https://tickets.devopsdays.org/widget/v1.en.js" async></script>

<pretix-widget event="{{ $url }}" {{- if eq $info "show" -}} display-event-info{{- end -}}></pretix-widget>
<noscript>
   <div class="pretix-widget">
        <div class="pretix-widget-info-message">
            JavaScript is disabled in your browser. To access our ticket shop without JavaScript, please <a target="_blank" rel="noopener" href="{{ $url }}">click here</a>.
        </div>
    </div>
</noscript>

{{- end -}}
